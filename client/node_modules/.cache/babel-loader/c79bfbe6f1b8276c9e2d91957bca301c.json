{"ast":null,"code":"import _objectSpread from \"/home/evgeny/Public/reduxtraine/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as types from \"./types\";\nimport api from \"../../../api\";\nexport const userSignIn = ({\n  token\n}) => {\n  if (token) {\n    localStorage.setItem(\"token\", token);\n    return {\n      type: types.SIGN_IN,\n      token\n    };\n  }\n};\nexport const setMe = user => ({\n  type: types.SET_ME,\n  user: _objectSpread({}, user, {\n    permissions: user.allPermissions\n  })\n});\nexport const signIn = credentials => dispatch => api.user.signin(credentials).then(data => data && !data.errors ? dispatch(userSignIn(data)) : data);\nexport const me = () => dispatch => api.user.me().then(data => {\n  dispatch(setMe(data));\n});\nexport const signOut = () => {\n  localStorage.removeItem(\"token\");\n  return {\n    type: types.SIGN_OUT\n  };\n};","map":{"version":3,"sources":["/home/evgeny/Public/reduxtraine/my-app/src/state/ducks/user/actions.js"],"names":["types","api","userSignIn","token","localStorage","setItem","type","SIGN_IN","setMe","user","SET_ME","permissions","allPermissions","signIn","credentials","dispatch","signin","then","data","errors","me","signOut","removeItem","SIGN_OUT"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,SAAvB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,OAAO,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AACvC,MAAIA,KAAJ,EAAW;AACTC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,KAA9B;AAEA,WAAO;AACLG,MAAAA,IAAI,EAAEN,KAAK,CAACO,OADP;AAELJ,MAAAA;AAFK,KAAP;AAID;AACF,CATM;AAWP,OAAO,MAAMK,KAAK,GAAGC,IAAI,KAAK;AAC5BH,EAAAA,IAAI,EAAEN,KAAK,CAACU,MADgB;AAE5BD,EAAAA,IAAI,oBACCA,IADD;AAEFE,IAAAA,WAAW,EAAEF,IAAI,CAACG;AAFhB;AAFwB,CAAL,CAAlB;AAQP,OAAO,MAAMC,MAAM,GAAGC,WAAW,IAAIC,QAAQ,IAC3Cd,GAAG,CAACQ,IAAJ,CACGO,MADH,CACUF,WADV,EAEGG,IAFH,CAEQC,IAAI,IAAKA,IAAI,IAAI,CAACA,IAAI,CAACC,MAAd,GAAuBJ,QAAQ,CAACb,UAAU,CAACgB,IAAD,CAAX,CAA/B,GAAoDA,IAFrE,CADK;AAKP,OAAO,MAAME,EAAE,GAAG,MAAML,QAAQ,IAC9Bd,GAAG,CAACQ,IAAJ,CAASW,EAAT,GAAcH,IAAd,CAAmBC,IAAI,IAAI;AACzBH,EAAAA,QAAQ,CAACP,KAAK,CAACU,IAAD,CAAN,CAAR;AACD,CAFD,CADK;AAKP,OAAO,MAAMG,OAAO,GAAG,MAAM;AAC3BjB,EAAAA,YAAY,CAACkB,UAAb,CAAwB,OAAxB;AAEA,SAAO;AACLhB,IAAAA,IAAI,EAAEN,KAAK,CAACuB;AADP,GAAP;AAGD,CANM","sourcesContent":["import * as types from \"./types\";\nimport api from \"../../../api\";\n\nexport const userSignIn = ({ token }) => {\n  if (token) {\n    localStorage.setItem(\"token\", token);\n\n    return {\n      type: types.SIGN_IN,\n      token\n    };\n  }\n};\n\nexport const setMe = user => ({\n  type: types.SET_ME,\n  user: {\n    ...user,\n    permissions: user.allPermissions\n  }\n});\n\nexport const signIn = credentials => dispatch =>\n  api.user\n    .signin(credentials)\n    .then(data => (data && !data.errors ? dispatch(userSignIn(data)) : data));\n\nexport const me = () => dispatch =>\n  api.user.me().then(data => {\n    dispatch(setMe(data));\n  });\n\nexport const signOut = () => {\n  localStorage.removeItem(\"token\");\n\n  return {\n    type: types.SIGN_OUT\n  };\n};\n"]},"metadata":{},"sourceType":"module"}