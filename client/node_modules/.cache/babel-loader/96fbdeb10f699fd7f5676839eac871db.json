{"ast":null,"code":"var _jsxFileName = \"/home/evgeny/Public/reduxtraine/my-app/src/views/pages/Trello/TaskItem.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { taskComplete } from '../../../state/ducks/task/actions';\n\nconst TaskItem = ({\n  task,\n  column,\n  taskComplete\n}) => {\n  const dragNDrop = e => {\n    const dragItem = e.target.parentNode;\n    console.log(dragItem);\n\n    dragItem.ondragstart = function () {\n      return false;\n    }; // let currentDroppable = null;\n\n\n    dragItem.onmousedown = e => {\n      // const currentDroppableId = dragItem.attributes['column'].value;\n      dragItem.style.position = 'absolute';\n      dragItem.style.zIndex = 1000;\n      let shiftX = e.clientX - dragItem.getBoundingClientRect().left;\n      let shiftY = e.clientY - dragItem.getBoundingClientRect().top;\n      document.body.append(dragItem);\n      moveAt(e.pageX, e.pageY);\n\n      function moveAt(pageX, pageY) {\n        dragItem.style.left = pageX - shiftX + 'px';\n        dragItem.style.top = pageY - shiftY + 'px';\n      }\n\n      function onMouseMove(e) {\n        moveAt(e.pageX, e.pageY); // console.log(currentDroppable);\n\n        dragItem.hidden = true;\n        let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n        dragItem.hidden = false;\n        if (!elemBelow) return;\n        console.log(elemBelow); // if(elemBelow && elemBelow.children && elemBelow.children[0].children){\n        //   let k = elemBelow.children[0].children[1].id\n        //   console.log(k);\n        // }\n        // let droppableBelow = elemBelow.closest('.finished');\n        // if (currentDroppable !== droppableBelow) {\n        //   if (currentDroppable) {\n        //     leaveDroppable(currentDroppable);\n        //   }\n        //   currentDroppable = droppableBelow;\n        //   if (currentDroppable) {\n        //     enterDroppable(currentDroppable);\n        //   }\n        // } \n      }\n\n      document.addEventListener('mousemove', onMouseMove);\n\n      dragItem.onmouseup = e => {\n        //\n        dragItem.hidden = true;\n        let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n        dragItem.hidden = false; // let droppableBelow = elemBelow.closest(`.${dragItem.id}`);\n        // if (elemBelow.id === currentDroppableId) {\n        //   if(elemBelow.className === 'task-list-wrapper') {\n        //     dragItem.style.position = ''\n        //     dragItem.style.left = ''\n        //     dragItem.style.top = ''\n        //     elemBelow.children[0].children[1].children[0].children[0].append(dragItem)\n        //   }\n        // }\n        // console.log(droppableBelow);\n        // let droppableBelow = elemBelow.closest('.finished');\n        // let droppableBelowBak = elemBelow.closest('.not-finished')\n        // if(currentDroppable === elemBelow && currentDroppable === droppableBelow){\n        //   taskComplete(dragItem.id)\n        //   dragItem.remove();\n        // }\n        // if(elemBelow === droppableBelowBak){\n        //   taskComplete(dragItem.id)\n        //   dragItem.remove();\n        // }\n\n        document.removeEventListener('mousemove', onMouseMove);\n        dragItem.onmouseup = null;\n      };\n    }; // function enterDroppable(elem) {\n    //   elem.style.background = '#afe892';\n    // }\n    // function enterDroppableBack(elem) {\n    //   elem.style.background = 'pink';\n    // }\n    // function leaveDroppable(elem) {\n    //   elem.style.background = '';\n    // }\n\n  };\n\n  const style = {\n    span: {\n      display: 'block',\n      maxWidth: '250px',\n      width: '100%',\n      padding: 0,\n      listStyleType: 'none',\n      textAlign: 'left'\n    }\n  };\n  return React.createElement(\"span\", {\n    className: \"task-item\",\n    style: style.span,\n    onMouseOver: dragNDrop,\n    id: task.id,\n    column: column,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, task.title);\n};\n\nconst mapDispatchToProps = {\n  taskComplete\n};\nexport default connect(null, mapDispatchToProps)(TaskItem);","map":{"version":3,"sources":["/home/evgeny/Public/reduxtraine/my-app/src/views/pages/Trello/TaskItem.js"],"names":["React","connect","taskComplete","TaskItem","task","column","dragNDrop","e","dragItem","target","parentNode","console","log","ondragstart","onmousedown","style","position","zIndex","shiftX","clientX","getBoundingClientRect","left","shiftY","clientY","top","document","body","append","moveAt","pageX","pageY","onMouseMove","hidden","elemBelow","elementFromPoint","addEventListener","onmouseup","removeEventListener","span","display","maxWidth","width","padding","listStyleType","textAlign","id","title","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux';\nimport {taskComplete} from '../../../state/ducks/task/actions'\n\nconst TaskItem = ({task, column, taskComplete}) =>{\n  const dragNDrop = (e) => {\n    const dragItem = e.target.parentNode;\n    console.log(dragItem);\n    \n    dragItem.ondragstart = function() {\n      return false;\n    };\n    // let currentDroppable = null;\n    \n    dragItem.onmousedown = e => {\n      // const currentDroppableId = dragItem.attributes['column'].value;\n      \n      dragItem.style.position = 'absolute'\n      dragItem.style.zIndex = 1000;\n      \n      let shiftX = e.clientX - dragItem.getBoundingClientRect().left;\n      let shiftY = e.clientY - dragItem.getBoundingClientRect().top;\n      \n      document.body.append(dragItem);\n\n      moveAt(e.pageX, e.pageY);\n      \n      function moveAt(pageX, pageY){\n        dragItem.style.left = pageX - shiftX +'px'\n        dragItem.style.top = pageY - shiftY +'px'\n      }\n  \n      function onMouseMove(e) {\n        moveAt(e.pageX, e.pageY);\n        // console.log(currentDroppable);\n  \n        dragItem.hidden = true;\n        let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n        dragItem.hidden = false;\n  \n        if (!elemBelow) return;\n\n        console.log(elemBelow);\n        \n        \n        // if(elemBelow && elemBelow.children && elemBelow.children[0].children){\n          \n        //   let k = elemBelow.children[0].children[1].id\n        //   console.log(k);\n        // }\n        \n  \n        // let droppableBelow = elemBelow.closest('.finished');\n  \n  \n        // if (currentDroppable !== droppableBelow) {\n        //   if (currentDroppable) {\n        //     leaveDroppable(currentDroppable);\n        //   }\n        //   currentDroppable = droppableBelow;\n        //   if (currentDroppable) {\n        //     enterDroppable(currentDroppable);\n        //   }\n        // } \n       \n\n      }\n  \n      document.addEventListener('mousemove', onMouseMove);\n  \n      dragItem.onmouseup = (e) => {\n        //\n        dragItem.hidden = true;\n        let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n        dragItem.hidden = false;\n        \n        // let droppableBelow = elemBelow.closest(`.${dragItem.id}`);\n\n        // if (elemBelow.id === currentDroppableId) {\n        //   if(elemBelow.className === 'task-list-wrapper') {\n        //     dragItem.style.position = ''\n        //     dragItem.style.left = ''\n        //     dragItem.style.top = ''\n        //     elemBelow.children[0].children[1].children[0].children[0].append(dragItem)\n        //   }\n        // }\n        // console.log(droppableBelow);\n        \n        \n        // let droppableBelow = elemBelow.closest('.finished');\n        // let droppableBelowBak = elemBelow.closest('.not-finished')\n        \n        // if(currentDroppable === elemBelow && currentDroppable === droppableBelow){\n        //   taskComplete(dragItem.id)\n        //   dragItem.remove();\n        // }\n        // if(elemBelow === droppableBelowBak){\n        //   taskComplete(dragItem.id)\n        //   dragItem.remove();\n        // }\n  \n          document.removeEventListener('mousemove', onMouseMove);\n          dragItem.onmouseup = null;\n  \n      };\n    }\n    \n    // function enterDroppable(elem) {\n    //   elem.style.background = '#afe892';\n    // }\n  \n    // function enterDroppableBack(elem) {\n    //   elem.style.background = 'pink';\n    // }\n    \n    // function leaveDroppable(elem) {\n    //   elem.style.background = '';\n    // }\n\n  }\n\n  \n  const style = {\n    span:{\n      display: 'block',\n      maxWidth:'250px',\n      width:'100%',\n      padding:0 ,\n      listStyleType:'none',\n      textAlign:'left'\n    }\n  }\n  \n  return(\n  <span className='task-item'\n      style={style.span}\n      onMouseOver={dragNDrop}\n      id={task.id}\n      column={column}\n      >\n        {task.title}\n  </span>\n    )\n}\n\n\nconst mapDispatchToProps = { taskComplete};\n\nexport default connect(null, mapDispatchToProps)(TaskItem);"]},"metadata":{},"sourceType":"module"}