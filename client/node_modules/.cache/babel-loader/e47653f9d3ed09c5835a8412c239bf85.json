{"ast":null,"code":"import _objectSpread from \"/home/evgeny/Public/reduxtraine/my-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as types from \"./types\";\nimport api from '../../../api'; // like api\n\nexport const userSignIn = ({\n  token\n}) => {\n  console.log(token);\n\n  if (token) {\n    localStorage.setItem(\"token\", token); // localStorage.setItem(\"user\", JSON.stringify(user));\n\n    return {\n      type: types.SIGN_IN,\n      token\n    };\n  }\n};\nexport const setMe = user => {\n  return {\n    type: types.SET_ME,\n    user: _objectSpread({}, user)\n  };\n};\nexport const signIn = credentials => dispatch => api.users.signin(credentials).then(d => d ? dispatch(userSignIn(d)) : d);\nexport const me = () => dispatch => api.users.me().then(data => dispatch(setMe(data)));\nexport const signOut = () => {\n  localStorage.removeItem(\"token\");\n  return {\n    type: types.SIGN_OUT\n  };\n};","map":{"version":3,"sources":["/home/evgeny/Public/reduxtraine/my-app/client/src/state/ducks/user/actions.js"],"names":["types","api","userSignIn","token","console","log","localStorage","setItem","type","SIGN_IN","setMe","user","SET_ME","signIn","credentials","dispatch","users","signin","then","d","me","data","signOut","removeItem","SIGN_OUT"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,SAAvB;AACA,OAAOC,GAAP,MAAgB,cAAhB,C,CAAgC;;AAGhC,OAAO,MAAMC,UAAU,GAAG,CAAE;AAACC,EAAAA;AAAD,CAAF,KAAe;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AAEA,MAAIA,KAAJ,EAAW;AAETG,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,KAA9B,EAFS,CAIT;;AAEA,WAAO;AACLK,MAAAA,IAAI,EAAER,KAAK,CAACS,OADP;AAELN,MAAAA;AAFK,KAAP;AAID;AACF,CAdM;AAgBP,OAAO,MAAMO,KAAK,GAAGC,IAAI,IAAG;AAC5B,SAAQ;AAENH,IAAAA,IAAI,EAAER,KAAK,CAACY,MAFN;AAGND,IAAAA,IAAI,oBACCA,IADD;AAHE,GAAR;AAQC,CATM;AAWP,OAAO,MAAME,MAAM,GAAIC,WAAD,IAAiBC,QAAQ,IAC/Cd,GAAG,CAACe,KAAJ,CAAUC,MAAV,CAAiBH,WAAjB,EAA8BI,IAA9B,CAAmCC,CAAC,IAAIA,CAAC,GAAGJ,QAAQ,CAACb,UAAU,CAACiB,CAAD,CAAX,CAAX,GAA2BA,CAApE,CADO;AAGP,OAAO,MAAMC,EAAE,GAAG,MAAML,QAAQ,IAChCd,GAAG,CAACe,KAAJ,CAAUI,EAAV,GAAeF,IAAf,CAAoBG,IAAI,IAAIN,QAAQ,CAACL,KAAK,CAACW,IAAD,CAAN,CAApC,CADO;AAGP,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC3BhB,EAAAA,YAAY,CAACiB,UAAb,CAAwB,OAAxB;AAEA,SAAO;AACLf,IAAAA,IAAI,EAAER,KAAK,CAACwB;AADP,GAAP;AAGD,CANM","sourcesContent":["import * as types from \"./types\";\nimport api from '../../../api'; // like api\n\n\nexport const userSignIn = ( {token} ) => { \n  console.log(token);\n  \n  if (token) {\n    \n    localStorage.setItem(\"token\", token);\n     \n    // localStorage.setItem(\"user\", JSON.stringify(user));\n\n    return {\n      type: types.SIGN_IN,\n      token\n    };\n  }\n};\n\nexport const setMe = user =>{\nreturn ({\n  \n  type: types.SET_ME,\n  user: {\n    ...user,\n    // permissions: user.allPermissions\n  }\n})\n}\n\nexport const signIn = (credentials) => dispatch => \napi.users.signin(credentials).then(d=> (d ? dispatch(userSignIn(d)):d))\n \nexport const me = () => dispatch => \napi.users.me().then(data => dispatch(setMe(data)));\n\nexport const signOut = () => {\n  localStorage.removeItem(\"token\");\n\n  return {\n    type: types.SIGN_OUT\n  };\n};\n"]},"metadata":{},"sourceType":"module"}