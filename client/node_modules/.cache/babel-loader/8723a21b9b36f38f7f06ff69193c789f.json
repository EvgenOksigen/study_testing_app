{"ast":null,"code":"var _jsxFileName = \"/home/evgeny/Public/reduxtraine/my-app/src/views/pages/Trello/TaskItem.js\";\nimport React from 'react';\n\nconst dragNDrop = e => {\n  const dragItem = e.target;\n\n  dragItem.ondragstart = function () {\n    return false;\n  };\n\n  let currentDroppable = null;\n\n  dragItem.onmousedown = e => {\n    dragItem.style.position = 'absolute';\n    dragItem.style.zIndex = 1000;\n    let shiftX = e.clientX - dragItem.getBoundingClientRect().left;\n    let shiftY = e.clientY - dragItem.getBoundingClientRect().top;\n    document.body.append(dragItem);\n    moveAt(e.pageX, e.pageY);\n\n    function moveAt(pageX, pageY) {\n      dragItem.style.left = pageX - shiftX + 'px';\n      dragItem.style.top = pageY - shiftY + 'px';\n    }\n\n    function onMouseMove(e) {\n      moveAt(e.pageX, e.pageY);\n      console.log(currentDroppable);\n      dragItem.hidden = true;\n      let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n      dragItem.hidden = false;\n      if (!elemBelow) return; // предположительная точка \"посадки\" Drag’n’Drop функции \n\n      let droppableBelow = elemBelow.closest('.finished');\n\n      if (currentDroppable != droppableBelow) {\n        if (currentDroppable) {\n          // логика обработки процесса \"вылета\" из finished (удаляем подсветку)\n          leaveDroppable(currentDroppable);\n        }\n\n        currentDroppable = droppableBelow;\n\n        if (currentDroppable) {\n          // логика обработки процесса, когда мы \"влетаем\" в элемент finished\n          enterDroppable(currentDroppable);\n        }\n      }\n    }\n\n    document.addEventListener('mousemove', onMouseMove);\n\n    dragItem.onmouseup = e => {\n      dragItem.hidden = true;\n      let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n      dragItem.hidden = false;\n      let droppableBelow = elemBelow.closest('.finished');\n      let droppableBelowBak = elemBelow.closest('.not-finished');\n      console.log(droppableBelowBak); // \n\n      if (currentDroppable === elemBelow && currentDroppable === droppableBelow) {\n        //TODO completed tasks \n        console.log('курсор находится над ЗЕЛЁНОЙ зоной дропа и мышь была отпущена');\n      }\n\n      if (currentDroppable === elemBelow && currentDroppable === droppableBelowBak) {\n        console.log('курсор находится над крассной зоной дропа и мышь была отпущена');\n      } // console.log(currentDroppable);// текущая зона для дропа\n\n\n      console.log(elemBelow); //элемент который \"снизу\" под курсором во время отжатия клавиши\n      // console.log(droppableBelow);// элемент в котором лежит зона дропа (проверка на \"родителя\")\n\n      document.removeEventListener('mousemove', onMouseMove);\n      dragItem.onmouseup = null;\n    };\n  };\n\n  function enterDroppable(elem) {\n    elem.style.background = '#afe892';\n  }\n\n  function leaveDroppable(elem) {\n    elem.style.background = '';\n  }\n};\n\nconst style = {\n  li: {\n    width: '200px',\n    padding: 0,\n    listStyleType: 'none'\n  }\n};\n\nconst TaskItem = ({\n  task,\n  index\n}) => {\n  return React.createElement(\"li\", {\n    className: \"taskItem\",\n    style: style.li,\n    onMouseOver: dragNDrop,\n    id: task.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, index + 1, \" \", task.title, \" \", task.completed.toLocaleString());\n};\n\nexport default TaskItem;","map":{"version":3,"sources":["/home/evgeny/Public/reduxtraine/my-app/src/views/pages/Trello/TaskItem.js"],"names":["React","dragNDrop","e","dragItem","target","ondragstart","currentDroppable","onmousedown","style","position","zIndex","shiftX","clientX","getBoundingClientRect","left","shiftY","clientY","top","document","body","append","moveAt","pageX","pageY","onMouseMove","console","log","hidden","elemBelow","elementFromPoint","droppableBelow","closest","leaveDroppable","enterDroppable","addEventListener","onmouseup","droppableBelowBak","removeEventListener","elem","background","li","width","padding","listStyleType","TaskItem","task","index","id","title","completed","toLocaleString"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAS,GAAGC,CAAC,IAAI;AAErB,QAAMC,QAAQ,GAAGD,CAAC,CAACE,MAAnB;;AAEAD,EAAAA,QAAQ,CAACE,WAAT,GAAuB,YAAW;AAChC,WAAO,KAAP;AACD,GAFD;;AAIA,MAAIC,gBAAgB,GAAG,IAAvB;;AAEAH,EAAAA,QAAQ,CAACI,WAAT,GAAuBL,CAAC,IAAI;AAC1BC,IAAAA,QAAQ,CAACK,KAAT,CAAeC,QAAf,GAA0B,UAA1B;AACAN,IAAAA,QAAQ,CAACK,KAAT,CAAeE,MAAf,GAAwB,IAAxB;AAEA,QAAIC,MAAM,GAAGT,CAAC,CAACU,OAAF,GAAYT,QAAQ,CAACU,qBAAT,GAAiCC,IAA1D;AACA,QAAIC,MAAM,GAAGb,CAAC,CAACc,OAAF,GAAYb,QAAQ,CAACU,qBAAT,GAAiCI,GAA1D;AAEAC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqBjB,QAArB;AAEAkB,IAAAA,MAAM,CAACnB,CAAC,CAACoB,KAAH,EAAUpB,CAAC,CAACqB,KAAZ,CAAN;;AAEA,aAASF,MAAT,CAAgBC,KAAhB,EAAuBC,KAAvB,EAA6B;AAC3BpB,MAAAA,QAAQ,CAACK,KAAT,CAAeM,IAAf,GAAsBQ,KAAK,GAAGX,MAAR,GAAgB,IAAtC;AACAR,MAAAA,QAAQ,CAACK,KAAT,CAAeS,GAAf,GAAqBM,KAAK,GAAGR,MAAR,GAAgB,IAArC;AACD;;AAED,aAASS,WAAT,CAAqBtB,CAArB,EAAwB;AACtBmB,MAAAA,MAAM,CAACnB,CAAC,CAACoB,KAAH,EAAUpB,CAAC,CAACqB,KAAZ,CAAN;AAEAE,MAAAA,OAAO,CAACC,GAAR,CAAYpB,gBAAZ;AAEAH,MAAAA,QAAQ,CAACwB,MAAT,GAAkB,IAAlB;AACA,UAAIC,SAAS,GAAGV,QAAQ,CAACW,gBAAT,CAA0B3B,CAAC,CAACU,OAA5B,EAAqCV,CAAC,CAACc,OAAvC,CAAhB;AACAb,MAAAA,QAAQ,CAACwB,MAAT,GAAkB,KAAlB;AAEA,UAAI,CAACC,SAAL,EAAgB,OATM,CAWtB;;AACA,UAAIE,cAAc,GAAGF,SAAS,CAACG,OAAV,CAAkB,WAAlB,CAArB;;AAEA,UAAIzB,gBAAgB,IAAIwB,cAAxB,EAAwC;AACtC,YAAIxB,gBAAJ,EAAsB;AACpB;AACA0B,UAAAA,cAAc,CAAC1B,gBAAD,CAAd;AACD;;AACDA,QAAAA,gBAAgB,GAAGwB,cAAnB;;AACA,YAAIxB,gBAAJ,EAAsB;AACpB;AACA2B,UAAAA,cAAc,CAAC3B,gBAAD,CAAd;AACD;AACF;AAEF;;AAEDY,IAAAA,QAAQ,CAACgB,gBAAT,CAA0B,WAA1B,EAAuCV,WAAvC;;AAEArB,IAAAA,QAAQ,CAACgC,SAAT,GAAsBjC,CAAD,IAAO;AAC1BC,MAAAA,QAAQ,CAACwB,MAAT,GAAkB,IAAlB;AACA,UAAIC,SAAS,GAAGV,QAAQ,CAACW,gBAAT,CAA0B3B,CAAC,CAACU,OAA5B,EAAqCV,CAAC,CAACc,OAAvC,CAAhB;AACAb,MAAAA,QAAQ,CAACwB,MAAT,GAAkB,KAAlB;AACA,UAAIG,cAAc,GAAGF,SAAS,CAACG,OAAV,CAAkB,WAAlB,CAArB;AACA,UAAIK,iBAAiB,GAAGR,SAAS,CAACG,OAAV,CAAkB,eAAlB,CAAxB;AAEAN,MAAAA,OAAO,CAACC,GAAR,CAAYU,iBAAZ,EAP0B,CAOM;;AAEhC,UAAG9B,gBAAgB,KAAKsB,SAArB,IAAkCtB,gBAAgB,KAAKwB,cAA1D,EAAyE;AACvE;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,+DAAZ;AACD;;AACD,UAAGpB,gBAAgB,KAAKsB,SAArB,IAAkCtB,gBAAgB,KAAK8B,iBAA1D,EAA4E;AAC1EX,QAAAA,OAAO,CAACC,GAAR,CAAY,gEAAZ;AACD,OAfyB,CAiB1B;;;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYE,SAAZ,EAlB0B,CAkBF;AACxB;;AAGAV,MAAAA,QAAQ,CAACmB,mBAAT,CAA6B,WAA7B,EAA0Cb,WAA1C;AACArB,MAAAA,QAAQ,CAACgC,SAAT,GAAqB,IAArB;AAED,KAzBD;AA0BD,GAxED;;AA0EA,WAASF,cAAT,CAAwBK,IAAxB,EAA8B;AAC5BA,IAAAA,IAAI,CAAC9B,KAAL,CAAW+B,UAAX,GAAwB,SAAxB;AACD;;AAED,WAASP,cAAT,CAAwBM,IAAxB,EAA8B;AAC5BA,IAAAA,IAAI,CAAC9B,KAAL,CAAW+B,UAAX,GAAwB,EAAxB;AACD;AAIF,CA9FD;;AA+FA,MAAM/B,KAAK,GAAG;AACZgC,EAAAA,EAAE,EAAC;AACDC,IAAAA,KAAK,EAAC,OADL;AAEDC,IAAAA,OAAO,EAAC,CAFP;AAGDC,IAAAA,aAAa,EAAC;AAHb;AADS,CAAd;;AAQA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAQC,EAAAA;AAAR,CAAD,KAAmB;AAElC,SACA;AAAI,IAAA,SAAS,EAAC,UAAd;AACI,IAAA,KAAK,EAAEtC,KAAK,CAACgC,EADjB;AAEI,IAAA,WAAW,EAAEvC,SAFjB;AAGI,IAAA,EAAE,EAAE4C,IAAI,CAACE,EAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIOD,KAAK,GAAC,CAJb,OAIiBD,IAAI,CAACG,KAJtB,OAI8BH,IAAI,CAACI,SAAL,CAAeC,cAAf,EAJ9B,CADA;AAQD,CAVD;;AAYA,eAAeN,QAAf","sourcesContent":["import React from 'react'\n\nconst dragNDrop = e => {\n  \n  const dragItem = e.target;\n  \n  dragItem.ondragstart = function() {\n    return false;\n  };\n  \n  let currentDroppable = null;\n  \n  dragItem.onmousedown = e => {\n    dragItem.style.position = 'absolute'\n    dragItem.style.zIndex = 1000;\n\n    let shiftX = e.clientX - dragItem.getBoundingClientRect().left;\n    let shiftY = e.clientY - dragItem.getBoundingClientRect().top;\n\n    document.body.append(dragItem);\n\n    moveAt(e.pageX, e.pageY);\n    \n    function moveAt(pageX, pageY){\n      dragItem.style.left = pageX - shiftX +'px'\n      dragItem.style.top = pageY - shiftY +'px'\n    }\n\n    function onMouseMove(e) {\n      moveAt(e.pageX, e.pageY);\n      \n      console.log(currentDroppable);\n\n      dragItem.hidden = true;\n      let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n      dragItem.hidden = false;\n\n      if (!elemBelow) return;\n\n      // предположительная точка \"посадки\" Drag’n’Drop функции \n      let droppableBelow = elemBelow.closest('.finished');\n\n      if (currentDroppable != droppableBelow) {\n        if (currentDroppable) {\n          // логика обработки процесса \"вылета\" из finished (удаляем подсветку)\n          leaveDroppable(currentDroppable);\n        }\n        currentDroppable = droppableBelow;\n        if (currentDroppable) {\n          // логика обработки процесса, когда мы \"влетаем\" в элемент finished\n          enterDroppable(currentDroppable);\n        }\n      }\n\n    }\n\n    document.addEventListener('mousemove', onMouseMove);\n\n    dragItem.onmouseup = (e) => {\n      dragItem.hidden = true;\n      let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n      dragItem.hidden = false;\n      let droppableBelow = elemBelow.closest('.finished');\n      let droppableBelowBak = elemBelow.closest('.not-finished')\n      \n      console.log(droppableBelowBak); // \n\n      if(currentDroppable === elemBelow && currentDroppable === droppableBelow){\n        //TODO completed tasks \n        console.log('курсор находится над ЗЕЛЁНОЙ зоной дропа и мышь была отпущена');\n      }\n      if(currentDroppable === elemBelow && currentDroppable === droppableBelowBak){\n        console.log('курсор находится над крассной зоной дропа и мышь была отпущена');\n      }\n      \n      // console.log(currentDroppable);// текущая зона для дропа\n      console.log(elemBelow); //элемент который \"снизу\" под курсором во время отжатия клавиши\n      // console.log(droppableBelow);// элемент в котором лежит зона дропа (проверка на \"родителя\")\n\n\n      document.removeEventListener('mousemove', onMouseMove);\n      dragItem.onmouseup = null;\n\n    };\n  }\n  \n  function enterDroppable(elem) {\n    elem.style.background = '#afe892';\n  }\n\n  function leaveDroppable(elem) {\n    elem.style.background = '';\n  }\n  \n  \n\n}\nconst style = {\n  li:{\n    width:'200px',\n    padding:0 ,\n    listStyleType:'none',\n  }\n}\n\nconst TaskItem = ({task , index}) =>{\n  \n  return(\n  <li className='taskItem'\n      style={style.li}\n      onMouseOver={dragNDrop}\n      id={task.id}>\n        {index+1} {task.title} {task.completed.toLocaleString()}\n  </li>\n    )\n}\n\nexport default TaskItem"]},"metadata":{},"sourceType":"module"}