{"ast":null,"code":"import _objectSpread from \"/home/evgeny/Public/reduxtraine/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as types from \"./types\";\nimport createReducer from \"../../../utils/createReducer\"; // import initialContacts from '../../../api/contacts';\n\nconst initialState = {\n  contacts: localStorage.getItem(\"contacts\"),\n  findItems: contacts.map(item => item.name)\n};\nconst startReducer = createReducer(initialState)({\n  [types.SORT]: (state, {\n    payload\n  }) => {\n    return _objectSpread({}, state, {\n      contacts: payload\n    });\n  },\n  [types.FIND]: (state, {\n    payload\n  }) => {\n    const findItems = [];\n    let regExp = new RegExp(`${payload}`, 'gi');\n    state.contacts.forEach(item => {\n      if (item.name.match(regExp)) {\n        findItems.push(item.name);\n      }\n    });\n    return _objectSpread({}, state, {\n      findItems\n    });\n  },\n  [types.DELETE_CONTACT]: (state, {\n    id\n  }) => {\n    const contactListAfterDelete = [...state.contacts];\n    let indexOfDelete;\n    contactListAfterDelete.forEach((contact, index) => {\n      if (contact.id === id) {\n        indexOfDelete = index;\n      }\n    });\n    contactListAfterDelete.splice(indexOfDelete, 1);\n    localStorage.setItem(\"contacts\", JSON.stringify(contactListAfterDelete));\n    return _objectSpread({}, state, {\n      contacts: contactListAfterDelete\n    });\n  }\n});\nexport default startReducer;","map":{"version":3,"sources":["/home/evgeny/Public/reduxtraine/my-app/src/state/ducks/search/reducers.js"],"names":["types","createReducer","initialState","contacts","localStorage","getItem","findItems","map","item","name","startReducer","SORT","state","payload","FIND","regExp","RegExp","forEach","match","push","DELETE_CONTACT","id","contactListAfterDelete","indexOfDelete","contact","index","splice","setItem","JSON","stringify"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,SAAvB;AACA,OAAOC,aAAP,MAA0B,8BAA1B,C,CACA;;AAGA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,CADS;AAEnBC,EAAAA,SAAS,EAAEH,QAAQ,CAACI,GAAT,CAAaC,IAAI,IAAIA,IAAI,CAACC,IAA1B;AAFQ,CAArB;AAKA,MAAMC,YAAY,GAAGT,aAAa,CAACC,YAAD,CAAb,CAA4B;AAE/C,GAACF,KAAK,CAACW,IAAP,GAAc,CAACC,KAAD,EAAQ;AAACC,IAAAA;AAAD,GAAR,KAAsB;AAClC,6BACKD,KADL;AAEET,MAAAA,QAAQ,EAAEU;AAFZ;AAID,GAP8C;AAS/C,GAACb,KAAK,CAACc,IAAP,GAAc,CAACF,KAAD,EAAQ;AAACC,IAAAA;AAAD,GAAR,KAAsB;AAChC,UAAMP,SAAS,GAAG,EAAlB;AAEA,QAAIS,MAAM,GAAG,IAAIC,MAAJ,CAAY,GAAEH,OAAQ,EAAtB,EAAyB,IAAzB,CAAb;AAEAD,IAAAA,KAAK,CAACT,QAAN,CAAec,OAAf,CAAuBT,IAAI,IAAI;AAC/B,UAAIA,IAAI,CAACC,IAAL,CAAUS,KAAV,CAAgBH,MAAhB,CAAJ,EAA6B;AAC3BT,QAAAA,SAAS,CAACa,IAAV,CAAeX,IAAI,CAACC,IAApB;AACD;AACF,KAJC;AAMF,6BACKG,KADL;AAEEN,MAAAA;AAFF;AAID,GAxB8C;AA0B/C,GAACN,KAAK,CAACoB,cAAP,GAAwB,CAACR,KAAD,EAAQ;AAACS,IAAAA;AAAD,GAAR,KAAiB;AAEvC,UAAMC,sBAAsB,GAAG,CAAC,GAAGV,KAAK,CAACT,QAAV,CAA/B;AAEA,QAAIoB,aAAJ;AAEAD,IAAAA,sBAAsB,CAACL,OAAvB,CAA+B,CAACO,OAAD,EAAUC,KAAV,KAAoB;AACjD,UAAGD,OAAO,CAACH,EAAR,KAAeA,EAAlB,EAAsB;AACpBE,QAAAA,aAAa,GAAGE,KAAhB;AACD;AACF,KAJD;AAMAH,IAAAA,sBAAsB,CAACI,MAAvB,CAA8BH,aAA9B,EAA4C,CAA5C;AACAnB,IAAAA,YAAY,CAACuB,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeP,sBAAf,CAAjC;AAEA,6BACKV,KADL;AAEET,MAAAA,QAAQ,EAAEmB;AAFZ;AAID;AA7C8C,CAA5B,CAArB;AAiDA,eAAeZ,YAAf","sourcesContent":["import * as types from \"./types\";\nimport createReducer from \"../../../utils/createReducer\";\n// import initialContacts from '../../../api/contacts';\n\n\nconst initialState = {\n  contacts: localStorage.getItem(\"contacts\"),\n  findItems: contacts.map(item => item.name)\n}\n\nconst startReducer = createReducer(initialState)({\n\n  [types.SORT]: (state, {payload}) => {\n    return{\n      ...state,\n      contacts: payload\n    }\n  },\n\n  [types.FIND]: (state, {payload}) => {\n      const findItems = []\n\n      let regExp = new RegExp(`${payload}`, 'gi')\n\n      state.contacts.forEach(item => {\n      if (item.name.match(regExp)) {\n        findItems.push(item.name);\n      }\n    });\n\n    return{\n      ...state,\n      findItems\n    }\n  },\n\n  [types.DELETE_CONTACT]: (state, {id}) => {\n\n    const contactListAfterDelete = [...state.contacts];\n\n    let indexOfDelete;\n\n    contactListAfterDelete.forEach((contact, index) => {\n      if(contact.id === id ){\n        indexOfDelete = index;\n      }\n    })\n\n    contactListAfterDelete.splice(indexOfDelete,1);\n    localStorage.setItem(\"contacts\", JSON.stringify(contactListAfterDelete))\n    \n    return{\n      ...state,\n      contacts: contactListAfterDelete\n    }\n  }\n\n});\n\nexport default startReducer;"]},"metadata":{},"sourceType":"module"}