{"ast":null,"code":"import _objectSpread from \"/home/evgeny/Public/reduxtraine/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as types from \"./types\";\nimport createReducer from \"../../../utils/createReducer\";\nimport initialContacts from \"../../../api/contacts\";\nconst initialState = {\n  data: [],\n  //data\n  findItems: []\n};\nconst startReducer = createReducer(initialState)({\n  //\n  [types.INIT]: (state, {\n    data\n  }) => {\n    const dataStore = JSON.parse(localStorage.getItem('contacts'));\n    console.log(dataStore);\n    let localContactsData = JSON.parse;\n    return _objectSpread({}, state, {\n      data\n    });\n  },\n  [types.SORT]: (state, {\n    payload\n  }) => {\n    return _objectSpread({}, state, {\n      data: payload\n    });\n  },\n  [types.FIND]: (state, {\n    payload\n  }) => {\n    let findItems = [];\n    let regExp = new RegExp(`${payload}`, 'gi');\n    state.data.forEach(item => {\n      if (item.name.match(regExp)) {\n        findItems.push(item.name);\n      }\n    });\n    return _objectSpread({}, state, {\n      findItems\n    });\n  },\n  [types.DELETE_CONTACT]: (state, {\n    id\n  }) => {\n    const contactListAfterDelete = [...state.data];\n    let indexOfDelete;\n    contactListAfterDelete.forEach((contact, index) => {\n      if (contact.id === id) {\n        indexOfDelete = index;\n      }\n    });\n    contactListAfterDelete.splice(indexOfDelete, 1);\n    localStorage.setItem(\"contacts\", JSON.stringify(contactListAfterDelete));\n    return _objectSpread({}, state, {\n      findItems: contactListAfterDelete.map(item => item.name),\n      data: contactListAfterDelete\n    });\n  },\n  [types.RESET]: state => {\n    localStorage.setItem('contacts', JSON.stringify(initialContacts));\n    return _objectSpread({}, state, {\n      findItems: initialContacts.map(item => item.name),\n      data: initialContacts\n    });\n  }\n});\nexport default startReducer;","map":{"version":3,"sources":["/home/evgeny/Public/reduxtraine/my-app/src/state/ducks/search/reducers.js"],"names":["types","createReducer","initialContacts","initialState","data","findItems","startReducer","INIT","state","dataStore","JSON","parse","localStorage","getItem","console","log","localContactsData","SORT","payload","FIND","regExp","RegExp","forEach","item","name","match","push","DELETE_CONTACT","id","contactListAfterDelete","indexOfDelete","contact","index","splice","setItem","stringify","map","RESET"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,SAAvB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AACT;AACVC,EAAAA,SAAS,EAAE;AAFQ,CAArB;AAKA,MAAMC,YAAY,GAAGL,aAAa,CAACE,YAAD,CAAb,CAA4B;AAChD;AACA,GAACH,KAAK,CAACO,IAAP,GAAc,CAACC,KAAD,EAAQ;AAACJ,IAAAA;AAAD,GAAR,KAAmB;AAChC,UAAMK,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAlB;AACAC,IAAAA,OAAO,CAACC,GAAR,CACGN,SADH;AAGA,QAAIO,iBAAiB,GAAGN,IAAI,CAACC,KAA7B;AAEA,6BACKH,KADL;AAEEJ,MAAAA;AAFF;AAID,GAbgD;AAe/C,GAACJ,KAAK,CAACiB,IAAP,GAAc,CAACT,KAAD,EAAQ;AAACU,IAAAA;AAAD,GAAR,KAAsB;AAClC,6BACKV,KADL;AAEEJ,MAAAA,IAAI,EAAEc;AAFR;AAID,GApB8C;AAsB/C,GAAClB,KAAK,CAACmB,IAAP,GAAc,CAACX,KAAD,EAAQ;AAACU,IAAAA;AAAD,GAAR,KAAsB;AAChC,QAAIb,SAAS,GAAG,EAAhB;AAEA,QAAIe,MAAM,GAAG,IAAIC,MAAJ,CAAY,GAAEH,OAAQ,EAAtB,EAAyB,IAAzB,CAAb;AAEAV,IAAAA,KAAK,CAACJ,IAAN,CAAWkB,OAAX,CAAmBC,IAAI,IAAI;AAC3B,UAAIA,IAAI,CAACC,IAAL,CAAUC,KAAV,CAAgBL,MAAhB,CAAJ,EAA6B;AAC3Bf,QAAAA,SAAS,CAACqB,IAAV,CAAeH,IAAI,CAACC,IAApB;AACD;AACF,KAJC;AAMF,6BACKhB,KADL;AAEEH,MAAAA;AAFF;AAID,GArC8C;AAuC/C,GAACL,KAAK,CAAC2B,cAAP,GAAwB,CAACnB,KAAD,EAAQ;AAACoB,IAAAA;AAAD,GAAR,KAAiB;AAEvC,UAAMC,sBAAsB,GAAG,CAAC,GAAGrB,KAAK,CAACJ,IAAV,CAA/B;AAEA,QAAI0B,aAAJ;AAEAD,IAAAA,sBAAsB,CAACP,OAAvB,CAA+B,CAACS,OAAD,EAAUC,KAAV,KAAoB;AACjD,UAAGD,OAAO,CAACH,EAAR,KAAeA,EAAlB,EAAsB;AACpBE,QAAAA,aAAa,GAAGE,KAAhB;AACD;AACF,KAJD;AAMAH,IAAAA,sBAAsB,CAACI,MAAvB,CAA8BH,aAA9B,EAA4C,CAA5C;AACAlB,IAAAA,YAAY,CAACsB,OAAb,CAAqB,UAArB,EAAiCxB,IAAI,CAACyB,SAAL,CAAeN,sBAAf,CAAjC;AAEA,6BACKrB,KADL;AAEEH,MAAAA,SAAS,EAAEwB,sBAAsB,CAACO,GAAvB,CAA2Bb,IAAI,IAAEA,IAAI,CAACC,IAAtC,CAFb;AAGEpB,MAAAA,IAAI,EAAEyB;AAHR;AAKD,GA3D8C;AA6D/C,GAAC7B,KAAK,CAACqC,KAAP,GAAiB7B,KAAD,IAAW;AAEzBI,IAAAA,YAAY,CAACsB,OAAb,CAAqB,UAArB,EAAiCxB,IAAI,CAACyB,SAAL,CAAejC,eAAf,CAAjC;AAEA,6BACKM,KADL;AAEEH,MAAAA,SAAS,EAACH,eAAe,CAACkC,GAAhB,CAAoBb,IAAI,IAAEA,IAAI,CAACC,IAA/B,CAFZ;AAGEpB,MAAAA,IAAI,EAAEF;AAHR;AAKD;AAtE8C,CAA5B,CAArB;AA0EA,eAAeI,YAAf","sourcesContent":["import * as types from \"./types\";\nimport createReducer from \"../../../utils/createReducer\";\nimport initialContacts from \"../../../api/contacts\";\n\nconst initialState = {\n  data: [], //data\n  findItems: [] \n}\n\nconst startReducer = createReducer(initialState)({\n //\n [types.INIT]: (state, {data}) => {\n  const dataStore = JSON.parse(localStorage.getItem('contacts'));\n  console.log(\n    (dataStore)\n    );\n  let localContactsData = JSON.parse\n\n  return{\n    ...state,\n    data \n  }\n},\n\n  [types.SORT]: (state, {payload}) => {    \n    return{\n      ...state,\n      data: payload\n    }\n  },\n\n  [types.FIND]: (state, {payload}) => {\n      let findItems = []\n\n      let regExp = new RegExp(`${payload}`, 'gi')\n\n      state.data.forEach(item => {\n      if (item.name.match(regExp)) {\n        findItems.push(item.name);\n      }\n    });\n\n    return{\n      ...state,\n      findItems\n    }\n  },\n\n  [types.DELETE_CONTACT]: (state, {id}) => {\n\n    const contactListAfterDelete = [...state.data];\n\n    let indexOfDelete;\n\n    contactListAfterDelete.forEach((contact, index) => {\n      if(contact.id === id ){\n        indexOfDelete = index;\n      }\n    })\n\n    contactListAfterDelete.splice(indexOfDelete,1);\n    localStorage.setItem(\"contacts\", JSON.stringify(contactListAfterDelete))\n    \n    return{\n      ...state,\n      findItems: contactListAfterDelete.map(item=>item.name),\n      data: contactListAfterDelete\n    }\n  },\n\n  [types.RESET] : (state) => {\n\n    localStorage.setItem('contacts', JSON.stringify(initialContacts));\n    \n    return{\n      ...state,\n      findItems:initialContacts.map(item=>item.name),\n      data: initialContacts\n    }\n  }\n\n});\n\nexport default startReducer;"]},"metadata":{},"sourceType":"module"}