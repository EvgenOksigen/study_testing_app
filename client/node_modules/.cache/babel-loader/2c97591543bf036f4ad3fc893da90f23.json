{"ast":null,"code":"var _jsxFileName = \"/home/evgeny/Public/reduxtraine/my-app/src/views/pages/Trello/TaskItem.js\";\nimport React from 'react';\n\nlet dragNDrop = e => {\n  const dragItem = e.target;\n  let currentDroppable = null;\n  console.log(e.clientX);\n  console.log(dragItem.getBoundingClientRect().left);\n\n  dragItem.onmousedown = e => {\n    dragItem.style.position = 'absolute';\n    dragItem.style.zIndex = 1000;\n    let shiftX = e.clientX - dragItem.getBoundingClientRect().left;\n    let shiftY = e.clientY - dragItem.getBoundingClientRect().top;\n    document.body.append(dragItem);\n    moveAt(e.pageX, e.pageY);\n\n    function moveAt(pageX, pageY) {\n      dragItem.style.left = pageX - shiftX / 2 + 'px';\n      dragItem.style.top = pageY - shiftY / 2 + 'px';\n    }\n\n    function onMouseMove(e) {\n      dragItem.hidden = true;\n      let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n      dragItem.hidden = false;\n      if (!elemBelow) return; // точка \"посадки\" DnD функции \n\n      let droppableBelow = elemBelow.closest('.finished');\n\n      if (currentDroppable != droppableBelow) {\n        if (currentDroppable) {\n          // логика обработки процесса \"вылета\" из finished (удаляем подсветку)\n          leaveDroppable(currentDroppable);\n        }\n\n        currentDroppable = droppableBelow;\n\n        if (currentDroppable) {\n          // логика обработки процесса, когда мы \"влетаем\" в элемент finished\n          enterDroppable(currentDroppable);\n        }\n      }\n\n      moveAt(e.pageX, e.pageY);\n    }\n\n    document.addEventListener('mousemove', onMouseMove);\n\n    dragItem.onmouseup = function () {\n      document.removeEventListener('mousemove', onMouseMove);\n      dragItem.onmouseup = null;\n    };\n  };\n\n  function enterDroppable(elem) {\n    elem.style.background = 'pink';\n  }\n\n  function leaveDroppable(elem) {\n    elem.style.background = '';\n  }\n\n  dragItem.ondragstart = function () {\n    return false;\n  };\n};\n\nconst TaskItem = ({\n  task,\n  index\n}) => {\n  return React.createElement(\"li\", {\n    style: {\n      width: '200px',\n      padding: 0,\n      listStyleType: 'none'\n    },\n    onClick: dragNDrop,\n    id: task.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, index + 1, \" \", task.title, \" \", task.completed.toLocaleString());\n};\n\nexport default TaskItem;","map":{"version":3,"sources":["/home/evgeny/Public/reduxtraine/my-app/src/views/pages/Trello/TaskItem.js"],"names":["React","dragNDrop","e","dragItem","target","currentDroppable","console","log","clientX","getBoundingClientRect","left","onmousedown","style","position","zIndex","shiftX","shiftY","clientY","top","document","body","append","moveAt","pageX","pageY","onMouseMove","hidden","elemBelow","elementFromPoint","droppableBelow","closest","leaveDroppable","enterDroppable","addEventListener","onmouseup","removeEventListener","elem","background","ondragstart","TaskItem","task","index","width","padding","listStyleType","id","title","completed","toLocaleString"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAIC,SAAS,GAAGC,CAAC,IAAI;AACnB,QAAMC,QAAQ,GAAGD,CAAC,CAACE,MAAnB;AACA,MAAIC,gBAAgB,GAAG,IAAvB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYL,CAAC,CAACM,OAAd;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACM,qBAAT,GAAiCC,IAA7C;;AAEAP,EAAAA,QAAQ,CAACQ,WAAT,GAAuBT,CAAC,IAAI;AAC1BC,IAAAA,QAAQ,CAACS,KAAT,CAAeC,QAAf,GAA0B,UAA1B;AACAV,IAAAA,QAAQ,CAACS,KAAT,CAAeE,MAAf,GAAwB,IAAxB;AAEA,QAAIC,MAAM,GAAGb,CAAC,CAACM,OAAF,GAAYL,QAAQ,CAACM,qBAAT,GAAiCC,IAA1D;AACA,QAAIM,MAAM,GAAGd,CAAC,CAACe,OAAF,GAAYd,QAAQ,CAACM,qBAAT,GAAiCS,GAA1D;AAEAC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqBlB,QAArB;AAEAmB,IAAAA,MAAM,CAACpB,CAAC,CAACqB,KAAH,EAAUrB,CAAC,CAACsB,KAAZ,CAAN;;AAEA,aAASF,MAAT,CAAgBC,KAAhB,EAAuBC,KAAvB,EAA6B;AAC3BrB,MAAAA,QAAQ,CAACS,KAAT,CAAeF,IAAf,GAAsBa,KAAK,GAAGR,MAAM,GAAC,CAAf,GAAkB,IAAxC;AACAZ,MAAAA,QAAQ,CAACS,KAAT,CAAeM,GAAf,GAAqBM,KAAK,GAAGR,MAAM,GAAC,CAAf,GAAkB,IAAvC;AACD;;AAED,aAASS,WAAT,CAAqBvB,CAArB,EAAwB;AACtBC,MAAAA,QAAQ,CAACuB,MAAT,GAAkB,IAAlB;AACA,UAAIC,SAAS,GAAGR,QAAQ,CAACS,gBAAT,CAA0B1B,CAAC,CAACM,OAA5B,EAAqCN,CAAC,CAACe,OAAvC,CAAhB;AACAd,MAAAA,QAAQ,CAACuB,MAAT,GAAkB,KAAlB;AAEA,UAAI,CAACC,SAAL,EAAgB,OALM,CAOtB;;AACA,UAAIE,cAAc,GAAGF,SAAS,CAACG,OAAV,CAAkB,WAAlB,CAArB;;AAEA,UAAIzB,gBAAgB,IAAIwB,cAAxB,EAAwC;AACtC,YAAIxB,gBAAJ,EAAsB;AACpB;AACA0B,UAAAA,cAAc,CAAC1B,gBAAD,CAAd;AACD;;AACDA,QAAAA,gBAAgB,GAAGwB,cAAnB;;AACA,YAAIxB,gBAAJ,EAAsB;AACpB;AACA2B,UAAAA,cAAc,CAAC3B,gBAAD,CAAd;AACD;AACF;;AACDiB,MAAAA,MAAM,CAACpB,CAAC,CAACqB,KAAH,EAAUrB,CAAC,CAACsB,KAAZ,CAAN;AACD;;AAEDL,IAAAA,QAAQ,CAACc,gBAAT,CAA0B,WAA1B,EAAuCR,WAAvC;;AAEAtB,IAAAA,QAAQ,CAAC+B,SAAT,GAAqB,YAAW;AAC9Bf,MAAAA,QAAQ,CAACgB,mBAAT,CAA6B,WAA7B,EAA0CV,WAA1C;AACAtB,MAAAA,QAAQ,CAAC+B,SAAT,GAAqB,IAArB;AACD,KAHD;AAID,GA9CD;;AA+CA,WAASF,cAAT,CAAwBI,IAAxB,EAA8B;AAC5BA,IAAAA,IAAI,CAACxB,KAAL,CAAWyB,UAAX,GAAwB,MAAxB;AACD;;AAED,WAASN,cAAT,CAAwBK,IAAxB,EAA8B;AAC5BA,IAAAA,IAAI,CAACxB,KAAL,CAAWyB,UAAX,GAAwB,EAAxB;AACD;;AAEDlC,EAAAA,QAAQ,CAACmC,WAAT,GAAuB,YAAW;AAChC,WAAO,KAAP;AACD,GAFD;AAID,CAlED;;AAoEA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAQC,EAAAA;AAAR,CAAD,KAAmB;AAElC,SACA;AAAI,IAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAC,OAAP;AAAgBC,MAAAA,OAAO,EAAC,CAAxB;AAA4BC,MAAAA,aAAa,EAAC;AAA1C,KAAX;AACI,IAAA,OAAO,EAAE3C,SADb;AAEI,IAAA,EAAE,EAAEuC,IAAI,CAACK,EAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGOJ,KAAK,GAAC,CAHb,OAGiBD,IAAI,CAACM,KAHtB,OAG8BN,IAAI,CAACO,SAAL,CAAeC,cAAf,EAH9B,CADA;AAOD,CATD;;AAWA,eAAeT,QAAf","sourcesContent":["import React from 'react'\n\nlet dragNDrop = e => {\n  const dragItem = e.target;\n  let currentDroppable = null;\n\n  console.log(e.clientX);\n  console.log(dragItem.getBoundingClientRect().left);\n  \n  dragItem.onmousedown = e => {\n    dragItem.style.position = 'absolute'\n    dragItem.style.zIndex = 1000;\n\n    let shiftX = e.clientX - dragItem.getBoundingClientRect().left;\n    let shiftY = e.clientY - dragItem.getBoundingClientRect().top;\n\n    document.body.append(dragItem);\n\n    moveAt(e.pageX, e.pageY);\n    \n    function moveAt(pageX, pageY){\n      dragItem.style.left = pageX - shiftX/2 +'px'\n      dragItem.style.top = pageY - shiftY/2 +'px'\n    }\n\n    function onMouseMove(e) {\n      dragItem.hidden = true;\n      let elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n      dragItem.hidden = false;\n\n      if (!elemBelow) return;\n\n      // точка \"посадки\" DnD функции \n      let droppableBelow = elemBelow.closest('.finished');\n\n      if (currentDroppable != droppableBelow) {\n        if (currentDroppable) {\n          // логика обработки процесса \"вылета\" из finished (удаляем подсветку)\n          leaveDroppable(currentDroppable);\n        }\n        currentDroppable = droppableBelow;\n        if (currentDroppable) {\n          // логика обработки процесса, когда мы \"влетаем\" в элемент finished\n          enterDroppable(currentDroppable);\n        }\n      }\n      moveAt(e.pageX, e.pageY);\n    }\n\n    document.addEventListener('mousemove', onMouseMove);\n\n    dragItem.onmouseup = function() {\n      document.removeEventListener('mousemove', onMouseMove);\n      dragItem.onmouseup = null;\n    };\n  }\n  function enterDroppable(elem) {\n    elem.style.background = 'pink';\n  }\n\n  function leaveDroppable(elem) {\n    elem.style.background = '';\n  }\n  \n  dragItem.ondragstart = function() {\n    return false;\n  };\n\n}\n\nconst TaskItem = ({task , index}) =>{\n  \n  return(\n  <li style={{width:'200px', padding:0 , listStyleType:'none'}} \n      onClick={dragNDrop} \n      id={task.id}>\n        {index+1} {task.title} {task.completed.toLocaleString()}\n  </li>\n    )\n}\n\nexport default TaskItem"]},"metadata":{},"sourceType":"module"}